<template>
  <div class="min-h-screen bg-gray-50">
    <!-- Sidebar -->
    <DashboardSidebar />
    
    <!-- Main Content -->
    <div class="ml-64">
      <!-- Header -->
      <DashboardHeader page-title="Dashboard" />
      
      <!-- Dashboard Content -->
      <main class="p-6">
        <!-- Welcome Section -->
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-2">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ DataBoard</h2>
          <p class="text-gray-600">–û–±–∑–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö hackathon –Ω–∞ PostgreSQL</p>
        </div>

        <!-- Database Stats Cards -->
        <DatabaseStatsCards />

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <!-- Query Activity -->
          <QueryActivityWidget />
          
          <!-- Database Performance -->
          <DatabasePerformanceWidget />
        </div>

        <!-- Secondary Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Recent Tables - Takes 2 columns -->
          <div class="lg:col-span-2">
            <RecentTablesWidget />
          </div>
          
          <!-- Database Connection Info -->
          <div class="card p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏</h3>
            
            <div class="space-y-4">
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="text-sm font-medium text-gray-900">–°–µ—Ä–≤–µ—Ä</div>
                  <div class="text-sm text-gray-600">103.246.146.132:5432</div>
                </div>
                <div class="w-2 h-2 bg-success-500 rounded-full"></div>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="text-sm font-medium text-gray-900">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</div>
                  <div class="text-sm text-gray-600">hackathon</div>
                </div>
                <div class="w-2 h-2 bg-success-500 rounded-full"></div>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="text-sm font-medium text-gray-900">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                  <div class="text-sm text-gray-600">user_db</div>
                </div>
                <span class="badge-info">–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ</span>
              </div>
              
              <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <div>
                  <div class="text-sm font-medium text-gray-900">–í–µ—Ä—Å–∏—è PostgreSQL</div>
                  <div class="text-sm text-gray-600">14.2</div>
                </div>
                <div class="w-2 h-2 bg-success-500 rounded-full"></div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="mt-6 pt-4 border-t border-gray-200">
              <h4 class="text-sm font-medium text-gray-900 mb-3">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
              <div class="space-y-2">
                <button class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200">
                  üîç –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
                </button>
                <button class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200">
                  üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <button class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200">
                  üìà –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ö–µ–º—ã
                </button>
              </div>
            </div>

            <!-- Connection Status -->
            <div class="mt-6 pt-4 border-t border-gray-200">
              <div class="flex items-center justify-between">
                <span class="text-sm font-medium text-gray-900">–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</span>
                <div class="flex items-center space-x-2">
                  <div class="w-2 h-2 bg-success-500 rounded-full animate-pulse"></div>
                  <span class="text-sm text-success-600">–ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                </div>
              </div>
              <div class="mt-2 text-xs text-gray-500">
                –ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞: {{ new Date().toLocaleTimeString('ru-RU') }}
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="mt-12 pt-8 border-t border-gray-200">
          <div class="flex items-center justify-between text-sm text-gray-500">
            <div>
              ¬© 2024 DataBoard. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
            </div>
            <div class="flex items-center space-x-4">
              <button class="hover:text-gray-700">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</button>
              <button class="hover:text-gray-700">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
              <button class="hover:text-gray-700">API</button>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import DashboardSidebar from '../components/DashboardSidebar.vue'
import DashboardHeader from '../components/DashboardHeader.vue'
import DatabaseStatsCards from '../components/DatabaseStatsCards.vue'
import QueryActivityWidget from '../components/QueryActivityWidget.vue'
import DatabasePerformanceWidget from '../components/DatabasePerformanceWidget.vue'
import RecentTablesWidget from '../components/RecentTablesWidget.vue'
</script>
